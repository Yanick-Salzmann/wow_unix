<div class="map-selection-container">
    <div class="top-bar">
        <div class="search-container">
            <input
                    type="text"
                    [(ngModel)]="filterText"
                    (input)="filterMaps()"
                    placeholder="Search maps..."
                    class="search-input"
            />
        </div>
    </div>
    @if ($isLoading | async) {
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading maps...</div>
        </div>
    }

    @if (!($isLoading | async)) {
        <div class="maps-container">
            @if (!hasFilteredMaps()) {
                <div class="no-maps">
                    No maps found matching your search.
                </div>
            }

            @for (map of ($filteredMaps | async); track map.map_id) {
                <div
                        class="map-tile"
                        (click)="selectMap(map)"
                        [style.background-image]="'url(' + map.loading_screen + ')'"
                >
                    <div class="map-info">
                        <div class="map-name">{{ map.name }}</div>
                        <div class="map-id">ID: {{ map.map_id }}</div>
                    </div>
                </div>
            }
        </div>
    }
</div>
