syntax = "proto3";

package wow.web.proto;

message Wrapper {
  JsEvent event = 1;
}

message JsEvent {
  oneof event {
    InitializeRequest initialize_request = 1;
    BrowseFolderRequest browse_folder_request = 10;
    BrowseFolderResponse browse_folder_response = 20;
    EmptyResponse empty_response = 30;
    LoadDataEvent load_data_event = 40;
    LoadUpdateEvent load_update_event = 50;
    ListMapsRequest list_maps_request = 60;
    ListMapsResponse list_maps_response = 70;
  }
}

message InitializeRequest {

}

message BrowseFolderRequest {
  string title = 1;
  string default_path = 2;
  repeated string filters = 3;
  bool allow_create = 4;
}

message BrowseFolderResponse {
  bool canceled = 1;
  string path = 2;
}

message EmptyResponse {

}

message LoadDataEvent {
  string folder = 1;
}

message LoadUpdateEvent {
  int32 percentage = 1;
  bool completed = 5;
  string message = 10;
}

message ListMapsRequest {

}

message ListMapsResponseMap {
  int32 map_id = 1;
  string name = 2;
  string loading_screen = 3;
}

message ListMapsResponse {
  repeated ListMapsResponseMap maps = 1;
}